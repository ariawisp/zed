package zedline:engine

record call {
  service: string,
  method: string,
  payload-json: string,
}

record response {
  ok: bool,
  payload-json: string,
  error: option<string>,
}

world engine {
  import host {
    log: func(msg: string)
    host-send-call: func(call: call)
  }

  /// Receive a host-to-guest typed response.
  export guest-recv-response: func(resp: response)

  /// Optional entrypoint.
  export start: func()
}
